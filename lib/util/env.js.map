{"version":3,"sources":["util/env.js"],"names":["os","browser","ua","navigator","userAgent","webkit","match","android","ipad","ipod","iphone","webos","touchpad","kindle","silk","blackberry","bb10","rimtabletos","playbook","chrome","firefox","ie","webview","runtime","qingpai","uc","weixin","weibo","qq","hao123","baidu","safari","version","ios","replace","tablet","phone"],"mappings":"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","file":"env.js","sourcesContent":["/**\n * @file file\n * @author leon <ludafa@outlook.com>\n */\n\nexport let os = {};\nexport let browser = {};\n\nconst ua = navigator.userAgent;\nconst webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\nconst android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\nconst ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\nconst ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\nconst iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\nconst webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\nconst touchpad = webos && ua.match(/TouchPad/);\nconst kindle = ua.match(/Kindle\\/([\\d.]+)/);\nconst silk = ua.match(/Silk\\/([\\d._]+)/);\nconst blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\nconst bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\nconst rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\nconst playbook = ua.match(/PlayBook/);\nconst chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\nconst firefox = ua.match(/Firefox\\/([\\d.]+)/);\nconst ie = ua.match(/MSIE ([\\d.]+)/) || ua.match(/MSIE\\s([\\d.]+)/);\nconst webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)\n    && !chrome;\nconst runtime = ua.match(/BaiduLightAppRuntime/i);\nconst qingpai = ua.match(/qingpai(ios|android)client/i);\nconst uc = ua.match(/UCBrowser[\\/]?([\\d.]+)/i);\nconst weixin = ua.match(/MicroMessenger/i);\nconst weibo = ua.match(/Weibo/i);\nconst qq = ua.match(/MQQ/i);\nconst hao123 = ua.match(/hao123\\/([\\d.]+)/i);\nconst baidu = ua.match(/baiduboxapp\\//i);\nconst safari = webkit\n    && ua.match(/Mobile\\//)\n    && !chrome && !uc && !weixin && !qq && !weibo && !hao123;\n\n\n// Todo: clean this up with a better OS/browser seperation:\n// - discern (more) between multiple browsers on android\n// - decide if kindle fire in silk mode is android or not\n// - Firefox on Android doesn't specify the Android version\n// - possibly devide in os, device and browser hashes\n\nif (browser.webkit = !!webkit) {\n    browser.version = webkit[1];\n}\n\nif (android) {\n    os.android = true;\n    os.version = android[2];\n}\n\nif (iphone && !ipod) {\n    os.ios = os.iphone = true;\n    os.version = iphone[2].replace(/_/g, '.');\n}\n\nif (ipad) {\n    os.ios = os.ipad = true;\n    os.version = ipad[2].replace(/_/g, '.');\n}\n\nif (ipod) {\n    os.ios = os.ipod = true;\n    os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n}\n\nif (webos) {\n    os.webos = true;\n    os.version = webos[2];\n}\n\nif (touchpad) {\n    os.touchpad = true;\n}\n\nif (blackberry) {\n    os.blackberry = true;\n    os.version = blackberry[2];\n}\n\nif (bb10) {\n    os.bb10 = true;\n    os.version = bb10[2];\n}\nif (rimtabletos) {\n    os.rimtabletos = true;\n    os.version = rimtabletos[2];\n}\nif (playbook) {\n    browser.playbook = true;\n}\nif (kindle) {\n    os.kindle = true;\n    os.version = kindle[1];\n}\nif (silk) {\n    browser.silk = true;\n    browser.version = silk[1];\n}\nif (!silk && os.android && ua.match(/Kindle Fire/)) {\n    browser.silk = true;\n}\nif (chrome) {\n    browser.chrome = true;\n    browser.version = chrome[1];\n}\nif (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n}\nif (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n}\nif (safari && (ua.match(/Safari/) || !!os.ios)) {\n    browser.safari = true;\n}\nif (webview) {\n    browser.webview = true;\n}\nif (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n}\nif (runtime) {\n    browser.runtime = true;\n}\nif (uc) {\n    browser.uc = true;\n    browser.version = uc[1];\n}\nif (qq) {\n    browser.qq = true;\n}\nif (weixin) {\n    browser.weixin = true;\n}\nif (baidu) {\n    browser.baidu = true;\n}\n\nif (weibo) {\n    browser.weibo = true;\n}\nif (qingpai) {\n    browser.runtime = true;\n    browser.qingpai = true;\n}\n\nos.tablet = !!(\n    ipad\n    || playbook || (android && !ua.match(/Mobile/))\n    || (firefox && ua.match(/Tablet/))\n    || (ie && !ua.match(/Phone/) && ua.match(/Touch/))\n);\n\nos.phone = !!(\n    !os.tablet && !os.ipod\n    && (\n        android\n        || iphone || webos || blackberry || bb10\n        || (chrome && ua.match(/Android/))\n        || (chrome && ua.match(/CriOS\\/([\\d.]+)/))\n        || (firefox && ua.match(/Mobile/))\n        || (ie && ua.match(/Touch/))\n    )\n);\n"]}